<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Midi Dashboard</title>
    <link rel="stylesheet" href="../css/dashboard.css" />

    <!-- Extole Core Scripts -->
    <script type="text/javascript" src="https://share.sharemidi.xyz/core.js" fetchpriority="high" async></script>
    <script type="text/javascript" src="https://joinmidi.extole.io/core.js" fetchpriority="high" async></script>
  </head>

  <body>
    <div class="dashboard-container">
      <!-- Sidebar -->
      <div class="sidebar">
        <div>
          <div class="sidebar-header">MIDI</div>
          <ul class="nav-links">
            <li><a href="#">Home</a></li>
            <li><a href="#">Patient Portal</a></li>
            <li><a href="#">FAQs</a></li>
            <li><a href="#">Midi Customer</a></li>
          </ul>
        </div>
        <div class="sidebar-footer">
          <a id="logout-link" class="logout-link">Logout</a>
        </div>
      </div>
      <!-- End Sidebar -->

      <!-- Main Content -->
      <div class="main-content">
        <!-- Greeting Section -->
        <div class="greeting-section">
          <h2 id="greeting">Hello!</h2>
        </div>

        <!-- Upcoming Section -->
        <div class="upcoming-section">
          <h3>Upcoming</h3>
          <div id="upcoming-appointments" style="padding: 0px 0px 10px"></div>
          <a class="btn" id="book-a-visit" style="display: none">Book a Visit</a>
          <a class="btn" id="complete-visit" style="display: none">Complete Visit</a>
        </div>

        <!-- Appointments Display -->
        <div class="upcoming-section">
          <h3>Past Appointments</h3>
          <div id="past-appointments">
            <!-- Past appointments will be rendered here -->
          </div>
        </div>

        <!-- Athenahealth Portal Section -->
        <div class="athena-section">
          <div>
            <h3>Set up your Athenahealth portal</h3>
            <p class="description">
              You can see your Care Plan, lab results, and message us any time.
            </p>
          </div>
          <div>
            <a class="btn" href="#">Send Email</a>
          </div>
        </div>

        <!-- Referral Section -->
        <div class="referral-section">
          <h3>Know anyone going through Menopause?</h3>
          <p class="description">
            Help your friends and family feel their best.
          </p>
          <div class="btn" id="dashboard-refer-a-friend-button">
            <span id='extole_zone_global_header'></span>
            <script type="text/javascript">
              (function(c,b,f,k,a){c[b]=c[b]||{};for(c[b].q=c[b].q||[];a<k.length;)f(k[a++],c[b])})(window,"extole",function (c,b){b[c]=b[c]||function (){b.q.push([c,arguments])}},["createZone"],0);
              fetch('/api/users/session')
                .then(response => response.json())
                .then(session => {
                    extole.createZone({
                    name: "global_header",
                    element_id: 'extole_zone_global_header',
                    data: {
                        email: session.email
                    }
                    });
                });
            </script>
          </div>
        </div>
      </div>
      <!-- End Main Content -->
    </div>

    <script src="../js/dashboard.js"></script>
    <script src="../js/logout.js"></script>
  </body>
</html>
